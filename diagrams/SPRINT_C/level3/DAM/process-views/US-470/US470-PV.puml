@startuml Process View - Level 3

autonumber
skinparam packageStyle rect

title Edit Task

participant "Node Backend" as BE <<component>>
database "Mongo DataBase" as DB <<component>>

-> BE: PATCH tasks/{state: state}

note right of BE: Edit task state.

'Find by Robisep Type ID'

activate BE

BE -> DB: find by task code

activate DB

DB --> BE:

deactivate DB

alt task not found

  <-- BE: Response status code - 404

else database unavailable

  <-- BE: Response status code - 503

end

activate BE

BE -> DB: update

activate DB

DB --> BE:

deactivate DB

alt task persisted\n with state updated

  <-- BE: Response status code - 200

else database unavailable

  <-- BE: Response status code - 503

end

@enduml